import{aC as a,a7 as c,a as H,p as N,q as h,_ as K}from"./index-yH0Ry0aD.js";import{_ as O}from"./index-wsUxMYQe.js";import"./mock-iVyY1y2-.js";import{E as P}from"./index-L9fZwOev.js";import{a as S,E as T}from"./index-E1Vaaaoc.js";import{E as q,a as w}from"./index-T5KmWP1B.js";import{E as L}from"./index-CwdKmFto.js";import{E as x}from"./index-sftZIlHI.js";import{d as B,r as g,x as M,o as b,_ as k,w as u,B as e,t as j,j as I,k as r,K as G,au as J,c as Q}from"./core-ST-i4T9p.js";class W{constructor(){a(this,"page",1),a(this,"size",10)}}class A{constructor(){a(this,"id",void 0),a(this,"name",""),a(this,"type","1"),a(this,"bookName",""),a(this,"price",0),a(this,"section",0),a(this,"createTime",void 0)}}class pe extends W{constructor(...i){super(...i),a(this,"name",""),a(this,"type",void 0),a(this,"bookName",""),a(this,"priceStart",void 0),a(this,"priceEnd",void 0),a(this,"sectionStart",void 0),a(this,"sectionEnd",void 0),a(this,"createTime",void 0)}}function ce(s={noLoading:!0}){return c(i=>({url:"demo",method:"get",params:i}),s)}function X(s=!0){return c(i=>({url:"demo",method:"post",data:i}),{noLoading:s})}function Y(s=!0){return c((i,t)=>({url:"demo/{id}".replace("{id}",String(i)),method:"put",data:t}),{noLoading:s})}function _e(s=!0){return c(i=>({url:"demo/{id}".replace("{id}",String(i)),method:"delete"}),{noLoading:s})}const Z={1:"纸质",2:"电脑",3:"手机",4:"电纸书"},ee=B({setup:!0,name:"Add",langImport:[s=>N(Object.assign({"../lang/en.json":()=>h(()=>import("./en-XomjGWof.js"),__vite__mapDeps([]))}),`../lang/${s}.json`),"demo"],getComponents:()=>[P,S,q,w,L,T,x,O]}),te=B({...ee,__name:"add",props:{data:{},modelValue:{type:Boolean}},emits:["update:modelValue","success"],setup(s,{emit:i}){let{t}=H({},[d=>N(Object.assign({"../lang/en.json":()=>h(()=>import("./en-XomjGWof.js"),__vite__mapDeps([]))}),`../lang/${d}.json`),"demo"]);const l=g(new A),C=s,p=i;M(()=>C.data,d=>{l.value=d??new A},{immediate:!0});const U={name:{required:!0,message:t("请填写")+t("姓名"),trigger:"blur"},bookName:{required:!0,message:t("请填写")+t("书名"),trigger:"blur"},type:{required:!0,message:t("请选择")+t("类型"),trigger:"blur"},price:{required:!0,message:t("请填写")+t("价格"),trigger:"blur"},section:{required:!0,message:t("请填写")+t("章节"),trigger:"blur"}},_=g(),f=g(!1),$=async()=>{f.value=!0,_.value.validate(async(d,o)=>{d?(l.value.id?await Y().runAsync(l.value.id,l.value):await X().runAsync(l.value),p("update:modelValue",!1),p("success")):_.value.scrollToField(Object.keys(o)[0]),f.value=!1})};return(d,o)=>{const v=P,m=S,D=q,F=w,V=L,R=T,E=x,z=O;return b(),k(z,{title:e(t)(e(l).id?"编辑":"新增"),"model-value":d.modelValue,"close-on-click-modal":!1,class:"add-dialog","onUpdate:modelValue":o[7]||(o[7]=n=>p("update:modelValue",n))},{footer:u(()=>[r(E,{type:"primary",loading:e(f),onClick:o[5]||(o[5]=n=>$())},{default:u(()=>[I(j(e(t)("提交")),1)]),_:1},8,["loading"]),r(E,{onClick:o[6]||(o[6]=n=>p("update:modelValue",!1))},{default:u(()=>[I(j(e(t)("取消")),1)]),_:1})]),default:u(()=>[r(R,{ref_key:"formEl",ref:_,model:e(l),rules:U,class:"add"},{default:u(()=>[r(m,{label:e(t)("姓名"),prop:"name"},{default:u(()=>[r(v,{modelValue:e(l).name,"onUpdate:modelValue":o[0]||(o[0]=n=>e(l).name=n)},null,8,["modelValue"])]),_:1},8,["label"]),r(m,{label:e(t)("书名"),prop:"bookName"},{default:u(()=>[r(v,{modelValue:e(l).bookName,"onUpdate:modelValue":o[1]||(o[1]=n=>e(l).bookName=n)},null,8,["modelValue"])]),_:1},8,["label"]),r(m,{label:e(t)("类型"),prop:"type"},{default:u(()=>[r(F,{modelValue:e(l).type,"onUpdate:modelValue":o[2]||(o[2]=n=>e(l).type=n)},{default:u(()=>[(b(!0),Q(G,null,J(e(Z),(n,y)=>(b(),k(D,{key:y,value:y,label:n},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),r(m,{label:e(t)("价格"),prop:"price"},{default:u(()=>[r(V,{modelValue:e(l).price,"onUpdate:modelValue":o[3]||(o[3]=n=>e(l).price=n),min:0,precision:2},null,8,["modelValue"])]),_:1},8,["label"]),r(m,{label:e(t)("章节"),prop:"section"},{default:u(()=>[r(V,{modelValue:e(l).section,"onUpdate:modelValue":o[4]||(o[4]=n=>e(l).section=n),min:0,precision:0},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["title","model-value"])}}}),oe=K(te,[["__scopeId","data-v-a665b199"]]),fe=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{pe as L,oe as a,Z as b,fe as c,_e as d,ce as l};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
