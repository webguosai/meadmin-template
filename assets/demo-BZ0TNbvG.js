import{e as ce,ar as fe,a8 as O,g as _e,h as ge,az as ye,E as ve,V as be,k as Ee,w as Ve,_ as Te,a as Be,p as q,q as F,ai as ke}from"./index-yH0Ry0aD.js";import{E as Se}from"./index-49D7_RkS.js";import{d as I,r as C,C as A,o as u,_ as g,w as a,B as e,V as $,W as $e,ac as Ce,$ as z,t as x,j as b,a as j,k as t,T as h,U as xe,c as M,a6 as he,i as E,K as we,au as Ie,O as Pe}from"./core-ST-i4T9p.js";import{_ as Y}from"./index-lV_ixfDb.js";import{_ as H}from"./meSearchForm-h8Hn6Hi9.js";import{L as Ue,l as De,d as Ae,b as L,a as K}from"./add-mHt7kLgB.js";import"./mock-iVyY1y2-.js";import{E as Q}from"./index-L9fZwOev.js";import{a as W}from"./index-E1Vaaaoc.js";import{E as G,a as J}from"./index-T5KmWP1B.js";import{E as X}from"./index-CwdKmFto.js";import{E as Z}from"./index-yrE5VKmZ.js";import{e as R,E as w}from"./index-sftZIlHI.js";import{B as je}from"./elIcon-sXDKzXmT.js";import"./pagination-sRyW0GdJ.js";import"./vue.runtime.esm-bundler-HQOW8PNi.js";import"./index-94vktnnO.js";import"./index-1biW9QUL.js";import"./event-vOXeFsAk.js";import"./flatten-h9WQF0ki.js";import"./identity-Cx94HuMG.js";import"./index-bdn5t8Of.js";import"./index-pVHqEiMP.js";import"./dropdown-Qa4E4y1i.js";import"./index-wsUxMYQe.js";import"./index-FnUpZ9Gc.js";import"./index-hw4zphJd.js";import"./scroll-8BrWMcLm.js";import"./refs-J1jeHUpR.js";import"./castArray-IgVPsfCg.js";import"./strings-tW-KZ-C8.js";import"./index-tBBv9sFb.js";const ze=ce({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:R,default:"primary"},cancelButtonType:{type:String,values:R,default:"text"},icon:{type:fe,default:()=>je},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:O.teleported,persistent:O.persistent,width:{type:[String,Number],default:150}}),Ne={confirm:p=>p instanceof MouseEvent,cancel:p=>p instanceof MouseEvent},Oe=I({name:"ElPopconfirm"}),Le=I({...Oe,props:ze,emits:Ne,setup(p,{emit:s}){const o=p,{t:T}=_e(),c=ge("popconfirm"),B=C(),m=()=>{var l,v;(v=(l=B.value)==null?void 0:l.onClose)==null||v.call(l)},P=A(()=>({width:ye(o.width)})),U=l=>{s("confirm",l),m()},k=l=>{s("cancel",l),m()},D=A(()=>o.confirmButtonText||T("el.popconfirm.confirmButtonText")),y=A(()=>o.cancelButtonText||T("el.popconfirm.cancelButtonText"));return(l,v)=>(u(),g(e(be),xe({ref_key:"tooltipRef",ref:B,trigger:"click",effect:"light"},l.$attrs,{"popper-class":`${e(c).namespace.value}-popover`,"popper-style":e(P),teleported:l.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":l.hideAfter,persistent:l.persistent}),{content:a(()=>[j("div",{class:$(e(c).b())},[j("div",{class:$(e(c).e("main"))},[!l.hideIcon&&l.icon?(u(),g(e(ve),{key:0,class:$(e(c).e("icon")),style:$e({color:l.iconColor})},{default:a(()=>[(u(),g(Ce(l.icon)))]),_:1},8,["class","style"])):z("v-if",!0),b(" "+x(l.title),1)],2),j("div",{class:$(e(c).e("action"))},[t(e(w),{size:"small",type:l.cancelButtonType==="text"?"":l.cancelButtonType,text:l.cancelButtonType==="text",onClick:k},{default:a(()=>[b(x(e(y)),1)]),_:1},8,["type","text"]),t(e(w),{size:"small",type:l.confirmButtonType==="text"?"":l.confirmButtonType,text:l.confirmButtonType==="text",onClick:U},{default:a(()=>[b(x(e(D)),1)]),_:1},8,["type","text"])],2)],2)]),default:a(()=>[l.$slots.reference?h(l.$slots,"reference",{key:0}):z("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Re=Ee(Le,[["__file","popconfirm.vue"]]);const ee=Ve(Re),qe={},Fe={class:"page page-100 page-padding"};function Me(p,s){const o=Se;return u(),M("div",Fe,[p.$slots.searchForm?(u(),g(o,{key:0,class:"seach-header"},{default:a(()=>[h(p.$slots,"searchForm",{},void 0,!0)]),_:3})):z("",!0),t(o,{class:"content-body","body-style":"height:100%"},{default:a(()=>[h(p.$slots,"default",{},void 0,!0)]),_:3}),h(p.$slots,"extend",{},void 0,!0)])}const te=Te(qe,[["render",Me],["__scopeId","data-v-1e1233a6"]]),Ye=I({setup:!0,name:"Demo",langImport:[p=>q(Object.assign({"./lang/en.json":()=>F(()=>import("./en-XomjGWof.js"),__vite__mapDeps([]))}),`./lang/${p}.json`),"demo"],getComponents:()=>[Q,W,G,J,X,Z,H,E("vxe-column"),E("mel-icon-edit"),w,E("mel-icon-delete"),ee,Y,K,te]}),kt=I({...Ye,__name:"demo",setup(p){let{t:s}=Be({},[d=>q(Object.assign({"./lang/en.json":()=>F(()=>import("./en-XomjGWof.js"),__vite__mapDeps([]))}),`./lang/${d}.json`),"demo"]);const o=he(new Ue),{loading:T,data:c,runAsync:B}=De(),m=(d=o.page,n=o.size)=>B(Object.assign(o,{page:d,size:n}));m(1);const{runAsync:P,loading:U}=Ae(),k=C(),D=async d=>{k.value=d,await P(d),m(1)},y=C(!1),l=C(),v=d=>{l.value=ke(d),y.value=!0};return(d,n)=>{const oe=Q,_=W,ne=G,le=J,S=X,ae=Z,ie=H,f=E("vxe-column"),se=E("mel-icon-edit"),N=w,re=E("mel-icon-delete"),pe=ee,me=Y,de=te;return u(),g(de,null,{searchForm:a(()=>[t(ie,{model:e(o),"default-all":!0,class:"search-form",onSearch:n[7]||(n[7]=i=>m(1))},{default:a(()=>[t(_,{label:e(s)("姓名"),prop:"name"},{default:a(()=>[t(oe,{modelValue:e(o).name,"onUpdate:modelValue":n[0]||(n[0]=i=>e(o).name=i)},null,8,["modelValue"])]),_:1},8,["label"]),t(_,{label:e(s)("类型"),prop:"type"},{default:a(()=>[t(le,{modelValue:e(o).type,"onUpdate:modelValue":n[1]||(n[1]=i=>e(o).type=i)},{default:a(()=>[(u(!0),M(we,null,Ie(e(L),(i,V)=>(u(),g(ne,{key:V,value:V,label:i},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(_,{label:e(s)("价格"),prop:"priceStart"},{default:a(()=>[t(S,{modelValue:e(o).priceStart,"onUpdate:modelValue":n[2]||(n[2]=i=>e(o).priceStart=i),min:0,precision:2},null,8,["modelValue"]),b("   -  "),t(_,{prop:"priceEnd"},{default:a(()=>[t(S,{modelValue:e(o).priceEnd,"onUpdate:modelValue":n[3]||(n[3]=i=>e(o).priceEnd=i),min:0,precision:2},null,8,["modelValue"])]),_:1})]),_:1},8,["label"]),t(_,{label:e(s)("章节"),prop:"sectionStart"},{default:a(()=>[t(S,{modelValue:e(o).sectionStart,"onUpdate:modelValue":n[4]||(n[4]=i=>e(o).sectionStart=i),min:0,precision:0},null,8,["modelValue"]),b("   -  "),t(_,{prop:"sectionEnd"},{default:a(()=>[t(S,{modelValue:e(o).sectionEnd,"onUpdate:modelValue":n[5]||(n[5]=i=>e(o).sectionEnd=i),min:0,precision:0},null,8,["modelValue"])]),_:1})]),_:1},8,["label"]),t(_,{label:e(s)("创建时间"),prop:"createTime"},{default:a(()=>[t(ae,{modelValue:e(o).createTime,"onUpdate:modelValue":n[6]||(n[6]=i=>e(o).createTime=i),type:"daterange","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),default:a(()=>{var i,V;return[t(me,{"quick-search":e(o).name,"onUpdate:quickSearch":n[8]||(n[8]=r=>e(o).name=r),loading:e(T),data:(i=e(c))==null?void 0:i.list,"pagination-options":{currentPage:e(o).page,pageSize:e(o).size,total:((V=e(c))==null?void 0:V.total)??0,layout:"sizes, prev, pager, next, jumper, ->, total",change:m},align:"center",border:"",onRefresh:n[9]||(n[9]=r=>m(1)),onAdd:n[10]||(n[10]=r=>v()),onQuickSearch:n[11]||(n[11]=r=>m(1))},{default:a(()=>[t(f,{field:"id",title:e(s)("ID"),"min-width":"100px"},null,8,["title"]),t(f,{field:"name",title:e(s)("姓名"),"min-width":"100px"},null,8,["title"]),t(f,{field:"bookName",title:e(s)("书名"),"min-width":"150px"},null,8,["title"]),t(f,{field:"type",title:e(s)("类型"),"min-width":"150px"},{default:a(({row:r})=>[b(x(e(L)[r.type]),1)]),_:1},8,["title"]),t(f,{field:"price",title:e(s)("价格"),"min-width":"100px"},null,8,["title"]),t(f,{field:"section",title:e(s)("章节"),"min-width":"100px"},null,8,["title"]),t(f,{field:"createTime",title:e(s)("创建时间"),"min-width":"150px"},null,8,["title"]),t(f,{title:e(s)("操作"),fixed:"right","min-width":"150px"},{default:a(({row:r})=>[t(N,{onClick:ue=>v(r)},{default:a(()=>[t(se)]),_:2},1032,["onClick"]),t(pe,{title:e(s)("确认删除？"),placement:"left",onConfirm:ue=>D(r.id)},{reference:a(()=>[(u(),g(N,{key:r.id,loading:e(U)&&e(k)===r.id,type:"danger"},{default:a(()=>[t(re)]),_:2},1032,["loading"]))]),_:2},1032,["title","onConfirm"])]),_:1},8,["title"])]),_:1},8,["quick-search","loading","data","pagination-options"]),t(K,{modelValue:e(y),"onUpdate:modelValue":n[12]||(n[12]=r=>Pe(y)?y.value=r:null),data:e(l),onSuccess:n[13]||(n[13]=r=>m(e(l)?e(o).page:1))},null,8,["modelValue","data"])]}),_:1})}}});export{kt as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
